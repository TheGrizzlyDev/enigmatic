using ğŸ”¥, âœ¨, ğŸ’©, ğŸ‘½ï¸

first_rotor  = rotor(ğŸ”¥ => ğŸ’©, âœ¨ => ğŸ”¥, ğŸ’© => ğŸ‘½ï¸, ğŸ‘½ï¸ => âœ¨) starting at ğŸ”¥
second_rotor = rotor(ğŸ”¥ => ğŸ”¥, âœ¨ => ğŸ‘½ï¸, ğŸ’© => âœ¨, ğŸ‘½ï¸ => ğŸ’©) starting at âœ¨

plugboard    = plugboard(ğŸ”¥ <=> ğŸ‘½ï¸, âœ¨ <=> ğŸ’©)

for emoji <- input
    first_rotor_state = first_rotor <- emoji
    first_rotor.step()

    second_rotor_state = second_rotor <- first_rotor_state
    second_rotor.step()

    out <- plugboard <- second_rotor_state


// V2
using ğŸ”¥, âœ¨, ğŸ’©, ğŸ‘½ï¸

rotors  = [
    rotor(ğŸ”¥ => ğŸ’©, âœ¨ => ğŸ”¥, ğŸ’© => ğŸ‘½ï¸, ğŸ‘½ï¸ => âœ¨) starting at ğŸ”¥,
    rotor(ğŸ”¥ => ğŸ”¥, âœ¨ => ğŸ‘½ï¸, ğŸ’© => âœ¨, ğŸ‘½ï¸ => ğŸ’©) starting at âœ¨
]

plugboard = plugboard(ğŸ”¥ <=> ğŸ‘½ï¸, âœ¨ <=> ğŸ’©)

for â“ <- input
    for rotor <- rotors
        â“ = rotor <- â“
        rotor.step()

    output <- plugboard <- â“